@import 'bootstrap-variables';
@import 'bootstrap/scss/functions';
@import 'bootstrap/scss/variables';

/* ==============================================================
Bootstrap tweaks
===============================================================*/

body,
h1,
h2,
h3,
h4 {
  font-weight: 300;
}

/* Increase contrast of links */
a {
  color: #533f03;
  font-weight: bold;
}

a:hover {
  color: #533f03;
  cursor: pointer;
}

a:not([href]):not([tabindex]):hover.dropdown-item {
  color: $dropdown-link-hover-color;
}

.dropdown-item.active:hover {
  background-color: mix($dropdown-link-hover-bg, $dropdown-link-active-bg, 50%);
}

.dropdown-item:hover {
  color: $dropdown-link-hover-color;
}

/* ==========================================================================
Generic styles
========================================================================== */

.form-control {
  background-color: #fff;
}

.readonly {
  background-color: #eee;
  opacity: 1;
}

/* ==========================================================================
Navbar tweaks
========================================================================== */

.navbar {
  ul.navbar-nav {
    .nav-item {
      margin-left: 0.5em;
    }
  }
}

/* ==========================================================================
Typography fixes (email previews)
========================================================================== */

.mail-dashboard .preview-section .email-body strong,
.mail-dashboard .preview-section .email-body b {
  font-weight: 700 !important;
}

.mail-dashboard .preview-section .email-body i,
.mail-dashboard .preview-section .email-body em {
  font-style: italic !important;
}

.mail-dashboard .preview-section .email-body u {
  text-decoration: underline !important;
}

/* ==========================================================================
THEME VARIABLES
========================================================================== */

/* ðŸŒž Light mode (default) */
:root {
  --mm-primary: #00bcd4;
  --mm-primary-soft: rgba(0, 188, 212, 0.14);
  --mm-focus: 0 0 0 3px rgba(0, 188, 212, 0.25);

  --mm-bg: #ffffff;
  --mm-panel: #fafafa;
  --mm-hover: #f3f3f3;
  --mm-border: #e6e6e6;
  --mm-text: #111;
  --mm-muted: #666;
  --mm-danger: #dc3545;
}

/* ðŸŒ™ Dark mode (THIS WAS MISSING) */
:root[data-theme='dark'] {
  --mm-bg: #0f141a;
  --mm-panel: #121923;
  --mm-hover: rgba(255, 255, 255, 0.06);
  --mm-border: rgba(255, 255, 255, 0.12);
  --mm-text: rgba(255, 255, 255, 0.92);
  --mm-muted: rgba(255, 255, 255, 0.62);

  --mm-primary-soft: rgba(0, 188, 212, 0.22);
  --mm-focus: 0 0 0 3px rgba(0, 188, 212, 0.35);
}

/* ==========================================================================
DARK MODE FIXES (buttons / toolbar / links)
========================================================================== */

/* Fix global links (override brown) */
:root[data-theme='dark'] a {
  color: var(--mm-primary);
}

:root[data-theme='dark'] a:hover {
  color: var(--mm-primary);
}

/* Toolbar buttons (bold / italic / underline / link) */
:root[data-theme='dark'] .mm-btn,
:root[data-theme='dark'] .mm-icon-btn,
:root[data-theme='dark'] .mm-link-btn,
:root[data-theme='dark'] .mm-toolbar button {
  color: var(--mm-text);
}

/* FontAwesome icons */
:root[data-theme='dark'] fa-icon,
:root[data-theme='dark'] svg {
  color: currentColor;
}

/* Bootstrap buttons (attachments etc.) */
:root[data-theme='dark'] .btn,
:root[data-theme='dark'] .btn-outline-dark,
:root[data-theme='dark'] .btn-outline-secondary,
:root[data-theme='dark'] .btn-link {
  color: var(--mm-text);
  border-color: var(--mm-border);
}

:root[data-theme='dark'] .btn:hover {
  background: var(--mm-hover);
}

/* Delete buttons stay red */
:root[data-theme='dark'] .mm-link-danger,
:root[data-theme='dark'] .btn-danger,
:root[data-theme='dark'] .btn-outline-danger {
  color: var(--mm-danger);
}

/* =========================================================
   Dark mode â€“ remove hardcoded white backgrounds
   ========================================================= */

/* Make the page background dark too (fixes any outer white areas) */
body {
  background: var(--mm-panel);
  color: var(--mm-text);
}

/* Hover states that were using #fff */
:root[data-theme='dark'] .mm-project-item:hover {
  background: var(--mm-hover) !important;
}

:root[data-theme='dark'] .mm-folder:hover {
  background: var(--mm-hover) !important;
}

/* Focus state on search input (was #fff) */
:root[data-theme='dark'] .mm-project-search-input:focus {
  background: var(--mm-panel) !important;
}

/* Toast background (was #fff) */
:root[data-theme='dark'] .mm-toast {
  background: var(--mm-bg) !important;
}
